{"version":3,"sources":["pages/index/my.uvue"],"names":[],"mappings":"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","file":"pages/index/my.uvue","sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 顶部数据区域 -->\r\n\t\t<view class=\"data-section\">\r\n\t\t\t<text class=\"section-title\">我的数据</text>\r\n\t\t\t<view class=\"data-list\">\r\n\t\t\t\t<view class=\"data-list-item\">\r\n\t\t\t\t\t<text class=\"data-list-label\">总里程</text>\r\n\t\t\t\t\t<text class=\"data-list-value\">{{totalDistance}} km</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"data-list-item\">\r\n\t\t\t\t\t<text class=\"data-list-label\">最快速度</text>\r\n\t\t\t\t\t<text class=\"data-list-value\">{{maxSpeed}} km/h</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"data-list-item\">\r\n\t\t\t\t\t<text class=\"data-list-label\">最长时间</text>\r\n\t\t\t\t\t<text class=\"data-list-value\">{{maxTime}} h</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 中间历史骑行数据区域 -->\r\n\t\t<view class=\"history-section\">\r\n\t\t\t<text class=\"section-title\">历史骑行数据</text>\r\n\t\t\t<view class=\"history-list\">\r\n\t\t\t\t<view class=\"history-item\" v-for=\"(item, index) in historyData\" :key=\"index\">\r\n\t\t\t\t\t<view class=\"history-date\">\r\n\t\t\t\t\t\t<text class=\"date-text\">{{item.date}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"history-details\">\r\n\t\t\t\t\t\t<text class=\"time-text\">{{item.time}}</text>\r\n\t\t\t\t\t\t<text class=\"location-text\">{{item.location}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n<!-- 底部设备区域 -->\r\n\t\t<view class=\"device-section\">\r\n\t\t\t<text class=\"section-title\">我的设备</text>\r\n\t\t\t<view class=\"device-container\">\r\n\t\t\t\t<view class=\"device-box\" @click=\"searchDevices\">\r\n\t\t\t\t\t<text class=\"device-name\">{{deviceName}}</text>\r\n\t\t\t\t\t<text class=\"device-status\">{{deviceStatus}}</text>\r\n\t\t\t\t\t<text class=\"search-hint\" v-if=\"isSearching\">搜索中...</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- 设备列表 -->\r\n\t\t\t<view class=\"device-list\" v-if=\"discoveredDevices.length > 0\">\r\n\t\t\t\t<view \r\n\t\t\t\t\tclass=\"device-list-item\" \r\n\t\t\t\t\tv-for=\"(device, index) in discoveredDevices\" \r\n\t\t\t\t\t:key=\"index\"\r\n\t\t\t\t\t@click=\"connectDevice(device)\">\r\n\t\t\t\t\t<text class=\"device-item-name\">{{device.name || '未知设备'}}</text>\r\n\t\t\t\t\t<text class=\"device-item-signal\">信号强度: {{device.RSSI}}dBm</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t\r\n\t\t<!-- 底部导航栏 -->\r\n\t\t<view class=\"tab-bar\">\r\n\t\t\t<view class=\"tab-item\" :class=\"{ active: activeTab === 'riding' }\" @click=\"switchTab('riding')\">\r\n\t\t\t\t<text class=\"tab-text\">骑行</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item\" :class=\"{ active: activeTab === 'history' }\" @click=\"switchTab('history')\">\r\n\t\t\t\t<text class=\"tab-text\">历史</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"tab-item\" :class=\"{ active: activeTab === 'profile' }\" @click=\"switchTab('profile')\">\r\n\t\t\t\t<text class=\"tab-text\">我的</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 数据展示\r\n\t\t\t\ttotalDistance: 128.5,\r\n\t\t\t\tmaxSpeed: 35.2,\r\n\t\t\t\tmaxTime: 4.5,\r\n\t\t\t\t// 历史骑行数据\r\n\t\t\t\thistoryData: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: '2023-06-15',\r\n\t\t\t\t\t\ttime: '14:30 - 16:45',\r\n\t\t\t\t\t\tlocation: '城市公园'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: '2023-06-10',\r\n\t\t\t\t\t\ttime: '09:15 - 11:30',\r\n\t\t\t\t\t\tlocation: '湖边绿道'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: '2023-06-05',\r\n\t\t\t\t\t\ttime: '16:00 - 18:20',\r\n\t\t\t\t\t\tlocation: '山地赛道'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdate: '2023-05-28',\r\n\t\t\t\t\t\ttime: '10:30 - 13:15',\r\n\t\t\t\t\t\tlocation: '滨江路'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\t// 设备信息\r\n\t\t\t\tdeviceName: '智能骑行传感器 A1',\r\n\t\t\t\tdeviceStatus: '未连接',\r\n\t\t\t\t// 蓝牙相关数据\r\n\t\t\t\tisSearching: false,\r\n\t\t\t\tdiscoveredDevices: [],\r\n\t\t\t\tconnectedDeviceId: '',\r\n\t\t\t\t// 当前选中的标签页\r\n\t\t\t\tactiveTab: 'history'\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// 页面加载时初始化数据\r\n\t\t\tthis.initData();\r\n\t\t\t// 初始化蓝牙适配器\r\n\t\t\tthis.initBluetooth();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 初始化数据\r\n\t\t\tinitData() {\r\n\t\t\t\t// 这里可以从本地存储或服务器获取数据\r\n\t\t\t\tconsole.log('历史页面数据初始化');\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 初始化蓝牙适配器\r\n\t\t\tinitBluetooth() {\r\n\t\t\t\tconsole.log('初始化蓝牙适配器');\r\n\t\t\t\t// 检查蓝牙是否可用\r\n\t\t\t\tif (uni.getSystemInfoSync().platform === 'android') {\r\n\t\t\t\t\t// Android平台\r\n\t\t\t\t\tplus.android.importClass('android.bluetooth.BluetoothAdapter');\r\n\t\t\t\t\tconst BluetoothAdapter = plus.android.runtimeMainActivity().getSystemService('bluetooth');\r\n\t\t\t\t\tif (!BluetoothAdapter.isEnabled()) {\r\n\t\t\t\t\t\tthis.deviceStatus = '蓝牙未开启';\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (uni.getSystemInfoSync().platform === 'ios') {\r\n\t\t\t\t\t// iOS平台\r\n\t\t\t\t\tconst bluetooth = plus.ios.import('CoreBluetooth');\r\n\t\t\t\t\tif (!bluetooth) {\r\n\t\t\t\t\t\tthis.deviceStatus = '蓝牙不可用';\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// 监听蓝牙状态变化\r\n\t\t\t\tuni.onBluetoothAdapterStateChange((res) => {\r\n\t\t\t\t\tif (!res.available) {\r\n\t\t\t\t\t\tthis.deviceStatus = '蓝牙不可用';\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 搜索设备\r\n\t\t\tsearchDevices() {\r\n\t\t\t\tif (this.isSearching) {\r\n\t\t\t\t\tconsole.log('正在搜索中，请稍候...');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('开始搜索蓝牙设备');\r\n\t\t\t\tthis.isSearching = true;\r\n\t\t\t\tthis.deviceStatus = '搜索中...';\r\n\t\t\t\tthis.discoveredDevices = [];\r\n\t\t\t\t\r\n\t\t\t\tuni.getSystemInfoSync().platform = 'android'; // 模拟Android平台\r\n\t\t\t\tthis.searchAndroidDevices();\r\n\t\t\t\t// 根据平台使用不同的API\r\n\t\t\t\tif (uni.getSystemInfoSync().platform === 'android') {\r\n\t\t\t\t\tthis.searchAndroidDevices();\r\n\t\t\t\t} else if (uni.getSystemInfoSync().platform === 'ios') {\r\n\t\t\t\t\t//this.searchIOSDevices();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Android平台搜索设备\r\n\t\t\tsearchAndroidDevices() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst main = plus.android.runtimeMainActivity();\r\n\t\t\t\t\tconst Context = plus.android.importClass(\"android.content.Context\");\r\n\t\t\t\t\tconst BluetoothAdapter = plus.android.importClass(\"android.bluetooth.BluetoothAdapter\");\r\n\t\t\t\t\tconst BDevice = plus.android.importClass(\"android.bluetooth.BluetoothDevice\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n\t\t\t\t\tif (!mBluetoothAdapter.isEnabled()) {\r\n\t\t\t\t\t\tthis.deviceStatus = '蓝牙未开启';\r\n\t\t\t\t\t\tthis.isSearching = false;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 开始搜索\r\n\t\t\t\t\tmBluetoothAdapter.startDiscovery();\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 注册广播接收器\r\n\t\t\t\t\tconst IntentFilter = plus.android.importClass('android.content.IntentFilter');\r\n\t\t\t\t\tconst filter = new IntentFilter();\r\n\t\t\t\t\tfilter.addAction(BluetoothDevice.ACTION_FOUND);\r\n\t\t\t\t\tfilter.addAction(BluetoothAdapter.ACTION_DISCOVERY_FINISHED);\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst receiver = plus.android.implements('io.dcloud.feature.internal.reflect.BroadcastReceiver', {\r\n\t\t\t\t\t\tonReceive: (context, intent) => {\r\n\t\t\t\t\t\t\tconst action = intent.getAction();\r\n\t\t\t\t\t\t\tif (action === BluetoothDevice.ACTION_FOUND) {\r\n\t\t\t\t\t\t\t\tconst device = intent.getParcelableExtra(BluetoothDevice.EXTRA_DEVICE);\r\n\t\t\t\t\t\t\t\tconst deviceInfo = {\r\n\t\t\t\t\t\t\t\t\tdeviceId: device.getAddress(),\r\n\t\t\t\t\t\t\t\t\tname: device.getName(),\r\n\t\t\t\t\t\t\t\t\tRSSI: intent.getShortExtra(BluetoothDevice.EXTRA_RSSI, 0)\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 过滤设备\r\n\t\t\t\t\t\t\t\tif (deviceInfo.name && deviceInfo.name.includes('AINSTEC_')) {\r\n\t\t\t\t\t\t\t\t\tconst exists = this.discoveredDevices.some(d => d.deviceId === deviceInfo.deviceId);\r\n\t\t\t\t\t\t\t\t\tif (!exists) {\r\n\t\t\t\t\t\t\t\t\t\tthis.discoveredDevices.push(deviceInfo);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (action === BluetoothAdapter.ACTION_DISCOVERY_FINISHED) {\r\n\t\t\t\t\t\t\t\tthis.stopSearchDevices();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tmain.registerReceiver(receiver, filter);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 10秒后停止搜索\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tthis.stopSearchDevices();\r\n\t\t\t\t\t\tmain.unregisterReceiver(receiver);\r\n\t\t\t\t\t}, 10000);\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error('Android蓝牙搜索失败', e);\r\n\t\t\t\t\tthis.isSearching = false;\r\n\t\t\t\t\tthis.deviceStatus = '搜索失败';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// iOS平台搜索设备\r\n\t\t\tsearchIOSDevices() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst manager = plus.ios.import('CoreBluetooth.CBCentralManager');\r\n\t\t\t\t\tconst delegate = plus.ios.implements('CoreBluetooth.CBCentralManagerDelegate', {\r\n\t\t\t\t\t\tcentralManagerDidUpdateState: (central) => {\r\n\t\t\t\t\t\t\tif (central.state() === 5) { // CBCentralManagerStatePoweredOn\r\n\t\t\t\t\t\t\t\t// 蓝牙已开启，开始扫描\r\n\t\t\t\t\t\t\t\tcentral.scanForPeripheralsWithServices_options_(null, null);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis.deviceStatus = '蓝牙未开启';\r\n\t\t\t\t\t\t\t\tthis.isSearching = false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcentralManagerDidDiscoverPeripheralAdvertisementDataRSSI: (central, peripheral, advertisementData, RSSI) => {\r\n\t\t\t\t\t\t\tconst deviceInfo = {\r\n\t\t\t\t\t\t\t\tdeviceId: peripheral.identifier().UUIDString(),\r\n\t\t\t\t\t\t\t\tname: peripheral.name(),\r\n\t\t\t\t\t\t\t\tRSSI: RSSI\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 过滤设备\r\n\t\t\t\t\t\t\tif (deviceInfo.name && deviceInfo.name.includes('骑行')) {\r\n\t\t\t\t\t\t\t\tconst exists = this.discoveredDevices.some(d => d.deviceId === deviceInfo.deviceId);\r\n\t\t\t\t\t\t\t\tif (!exists) {\r\n\t\t\t\t\t\t\t\t\tthis.discoveredDevices.push(deviceInfo);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst centralManager = manager.alloc().initWithDelegate_queue_(delegate, null);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 10秒后停止搜索\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tcentralManager.stopScan();\r\n\t\t\t\t\t\tthis.stopSearchDevices();\r\n\t\t\t\t\t}, 10000);\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error('iOS蓝牙搜索失败', e);\r\n\t\t\t\t\tthis.isSearching = false;\r\n\t\t\t\t\tthis.deviceStatus = '搜索失败';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 停止搜索设备\r\n\t\t\tstopSearchDevices() {\r\n\t\t\t\tconsole.log('停止搜索蓝牙设备');\r\n\t\t\t\tthis.isSearching = false;\r\n\t\t\t\tif (this.discoveredDevices.length === 0) {\r\n\t\t\t\t\tthis.deviceStatus = '未找到设备';\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.deviceStatus = '找到 ' + this.discoveredDevices.length + ' 个设备';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 连接设备\r\n\t\t\tconnectDevice(device) {\r\n\t\t\t\tconsole.log('连接设备', device);\r\n\t\t\t\tthis.deviceStatus = '连接中...';\r\n\t\t\t\t\r\n\t\t\t\t// 根据平台使用不同的连接方式\r\n\t\t\t\tif (uni.getSystemInfoSync().platform === 'android') {\r\n\t\t\t\t\tthis.connectAndroidDevice(device);\r\n\t\t\t\t} else if (uni.getSystemInfoSync().platform === 'ios') {\r\n\t\t\t\t\tthis.connectIOSDevice(device);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// Android平台连接设备\r\n\t\t\tconnectAndroidDevice(device) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst BluetoothAdapter = plus.android.importClass(\"android.bluetooth.BluetoothAdapter\");\r\n\t\t\t\t\tconst BluetoothDevice = plus.android.importClass(\"android.bluetooth.BluetoothDevice\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n\t\t\t\t\tconst remoteDevice = mBluetoothAdapter.getRemoteDevice(device.deviceId);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 连接设备\r\n\t\t\t\t\tconst socket = remoteDevice.createRfcommSocketToServiceRecord(\r\n\t\t\t\t\t\tjava.util.UUID.fromString(\"00001101-0000-1000-8000-00805F9B34FB\")\r\n\t\t\t\t\t);\r\n\t\t\t\t\tsocket.connect();\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.connectedDeviceId = device.deviceId;\r\n\t\t\t\t\tthis.deviceName = device.name || '未知设备';\r\n\t\t\t\t\tthis.deviceStatus = '已连接';\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 停止搜索\r\n\t\t\t\t\tthis.stopSearchDevices();\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error('Android蓝牙连接失败', e);\r\n\t\t\t\t\tthis.deviceStatus = '连接失败';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// iOS平台连接设备\r\n\t\t\tconnectIOSDevice(device) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst manager = plus.ios.import('CoreBluetooth.CBCentralManager');\r\n\t\t\t\t\tconst delegate = plus.ios.implements('CoreBluetooth.CBCentralManagerDelegate', {\r\n\t\t\t\t\t\tcentralManagerDidConnectPeripheral: (central, peripheral) => {\r\n\t\t\t\t\t\t\tthis.connectedDeviceId = device.deviceId;\r\n\t\t\t\t\t\t\tthis.deviceName = device.name || '未知设备';\r\n\t\t\t\t\t\t\tthis.deviceStatus = '已连接';\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// 停止搜索\r\n\t\t\t\t\t\t\tthis.stopSearchDevices();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcentralManagerDidFailToConnectPeripheral_error: (central, peripheral, error) => {\r\n\t\t\t\t\t\t\tconsole.error('iOS蓝牙连接失败', error);\r\n\t\t\t\t\t\t\tthis.deviceStatus = '连接失败';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst centralManager = manager.alloc().initWithDelegate_queue_(delegate, null);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 获取已发现的设备并连接\r\n\t\t\t\t\tconst peripherals = centralManager.retrievePeripheralsWithIdentifiers_([device.deviceId]);\r\n\t\t\t\t\tif (peripherals.length > 0) {\r\n\t\t\t\t\t\tcentralManager.connectPeripheral_options_(peripherals[0], null);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.deviceStatus = '设备未找到';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tconsole.error('iOS蓝牙连接失败', e);\r\n\t\t\t\t\tthis.deviceStatus = '连接失败';\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 切换标签页\r\n\t\t\tswitchTab(tab) {\r\n\t\t\t\tthis.activeTab = tab;\r\n\t\t\t\tconsole.log('切换到标签页:', tab);\r\n\t\t\t\t// 这里可以添加切换标签页的逻辑\r\n\t\t\t\tif(tab === 'riding') {\r\n\t\t\t\t\t// 跳转到骑行页面\r\n\t\t\t\t\tuni.switchTab({\r\n\t\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n\r\n\r\n<style>\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100vh;\r\n\t\tpadding: 10px;\r\n\t\tpadding-bottom: 60px; /* 为底部导航栏留出空间 */\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t/* 顶部数据区域样式 */\r\n\t.data-section {\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 10px; /* 减小内边距 */\r\n\t\tmargin-bottom: 10px;\r\n\t\tbox-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n\t\theight: 200px; /* 固定高度，减小一半左右 */\r\n\t}\r\n\t\r\n.section-title {\r\n\t\tfont-size: 16px; /* 减小字体大小 */\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 5px; /* 减小下边距 */\r\n\t\tcolor: #333;\r\n\t}\r\n\t\r\n\t.data-list {\r\n\t\tbackground-color: #f9f9f9;\r\n\t\tborder-radius: 8px;\r\n\t\toverflow: hidden;\r\n\t\theight: calc(100% - 25px); /* 计算剩余高度 */\r\n\t}\r\n\t.data-list-item {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 8px 10px; /* 减小内边距 */\r\n\t\tborder-bottom: 1px solid #eee;\r\n\t}\r\n\t\r\n\t.data-list-item:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\t\r\n\t.data-list-label {\r\n\t\tfont-size: 14px; /* 减小字体大小 */\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.data-list-value {\r\n\t\tfont-size: 14px; /* 减小字体大小 */\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\t/* 中间历史骑行数据区域样式 */\r\n\t.history-section {\r\n\t\tflex: 1;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 15px;\r\n\t\tmargin-bottom: 10px;\r\n\t\tbox-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.history-list {\r\n\t\tflex: 1;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\t\r\n\t.history-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 15px;\r\n\t\tborder-bottom: 1px solid #eee;\r\n\t}\r\n\t\r\n\t.history-item:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\t\r\n\t.history-date {\r\n\t\tmargin-bottom: 8px;\r\n\t}\r\n\t\r\n\t.date-text {\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\t\r\n\t.history-details {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\t\r\n\t.time-text {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.location-text {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t/* 底部设备区域样式 */\r\n\t.device-section {\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 15px;\r\n\t\tmargin-bottom: 10px;\r\n\t\tbox-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n\t}\r\n\t\r\n\t.device-container {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tpadding: 20px 0;\r\n\t}\r\n\t\r\n\t.device-box {\r\n\t\twidth: 200px;\r\n\t\theight: 120px;\r\n\t\tbackground-color: #f0f0f0;\r\n\t\tborder: 2px dashed #ccc;\r\n\t\tborder-radius: 8px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.device-name {\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 8px;\r\n\t}\r\n\t\r\n\t.device-status {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #FF5722;\r\n\t}\r\n\t\r\n\t.search-hint {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #FF5722;\r\n\t\tmargin-top: 5px;\r\n\t}\r\n\t\r\n\t.device-list {\r\n\t\tmargin-top: 15px;\r\n\t\tborder-top: 1px solid #eee;\r\n\t\tpadding-top: 15px;\r\n\t}\r\n\t\r\n\t.device-list-item {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 10px 15px;\r\n\t\tborder-bottom: 1px solid #eee;\r\n\t}\r\n\t\r\n\t.device-list-item:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\t\r\n\t.device-item-name {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #333;\r\n\t}\r\n\t\r\n\t.device-item-signal {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t\r\n\t/* 底部导航栏样式 */\r\n\t.tab-bar {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\theight: 50px;\r\n\t\tbackground-color: #ffffff;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row; /* 明确指定为行布局 */\r\n\t\tjustify-content: space-between; /* 左中右布局 */\r\n\t\talign-items: center; /* 垂直居中 */\r\n\t\tbox-shadow: 0 -2px 5px rgba(0,0,0,0.1);\r\n\t\tz-index: 100;\r\n\t}\r\n\t\r\n\t.tab-item {\r\n\t\tflex: 1; /* 每个项目占据相等的空间 */\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\ttext-align: center; /* 文本居中 */\r\n\t}\r\n\t\r\n\t.tab-item:first-child {\r\n\t\tjustify-content: flex-start; /* 第一个项目左对齐 */\r\n\t\tpadding-left: 20px; /* 左边添加一些内边距 */\r\n\t}\r\n\t\r\n\t.tab-item:last-child {\r\n\t\tjustify-content: flex-end; /* 最后一个项目右对齐 */\r\n\t\tpadding-right: 20px; /* 右边添加一些内边距 */\r\n\t}\r\n\t\r\n\t.tab-item:nth-child(2) {\r\n\t\tjustify-content: center; /* 中间项目居中 */\r\n\t}\r\n\t\r\n\t.tab-item.active {\r\n\t\tborder-bottom: 2px solid #FF5722;\r\n\t}\r\n\t\r\n\t.tab-text {\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.tab-item.active .tab-text {\r\n\t\tcolor: #FF5722;\r\n\t\tfont-weight: bold;\r\n\t}\r\n</style>\r\n"]}