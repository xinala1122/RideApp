{"version":3,"file":"index.js","sources":["pages/index/index.uvue","../../HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudXZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 顶部数据区域 -->\r\n\t\t<view class=\"data-section\" v-if=\"!isRiding\">\r\n\t\t\t<text class=\"section-title\">我的数据</text>\r\n\t\t\t<view class=\"data-list\">\r\n\t\t\t\t<view class=\"data-list-item\">\r\n\t\t\t\t\t<text class=\"data-list-label\">总里程</text>\r\n\t\t\t\t\t<text class=\"data-list-value\">{{totalDistance}} km</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"data-list-item\">\r\n\t\t\t\t\t<text class=\"data-list-label\">最快速度</text>\r\n\t\t\t\t\t<text class=\"data-list-value\">{{maxSpeed}} km/h</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"data-list-item\">\r\n\t\t\t\t\t<text class=\"data-list-label\">最长时间</text>\r\n\t\t\t\t\t<text class=\"data-list-value\">{{maxTime}} h</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 中间地图区域 -->\r\n\t\t\t<view class=\"map-section\" :class=\"{ expanded: isRiding }\">\r\n\t\t\t\t<text class=\"section-title\">地图区域</text>\r\n\t\t\t\t<view class=\"map-container\">\r\n\t\t\t\t\t<!-- 使用uni-app的map组件，优化定位显示 -->\r\n\t\t\t\t\t<map id=\"map\" class=\"map\" \r\n\t\t\t\t\t\t:latitude=\"latitude\" \r\n\t\t\t\t\t\t:longitude=\"longitude\" \r\n\t\t\t\t\t\t:scale=\"scale\" \r\n\t\t\t\t\t\t:markers=\"markers\" \r\n\t\t\t\t\t\t:show-location=\"true\" \r\n\t\t\t\t\t\t:show-compass=\"true\"\r\n\t\t\t\t\t\t:enable-overlooking=\"true\"\r\n\t\t\t\t\t\t:enable-zoom=\"true\"\r\n\t\t\t\t\t\t:enable-scroll=\"true\"\r\n\t\t\t\t\t\t:enable-rotate=\"true\"\r\n\t\t\t\t\t\t@load=\"onMapLoaded\" \r\n\t\t\t\t\t\t@regionchange=\"onRegionChange\"\r\n\t\t\t\t\t\t@locationchange=\"onLocationChange\"></map>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\r\n\t\t<!-- 骑行信息区域（两行布局：第一行全是标题，第二行全是数据） -->\r\n\t\t<view class=\"riding-info-simple\" v-if=\"isRiding\">\r\n\t\t\t<!-- 第一行：所有标题 -->\r\n\t\t\t<view class=\"info-line\">\r\n\t\t\t\t<span class=\"info-item\">实时速度</span>\r\n\t\t\t\t<span class=\"info-item\">平均速度</span>\r\n\t\t\t\t<span class=\"info-item\">骑行里程</span>\r\n\t\t\t\t<span class=\"info-item\">骑行时间</span>\r\n\t\t\t</view>\r\n\t\t\t<!-- 第二行：所有数值 -->\r\n\t\t\t<view class=\"info-line\">\r\n\t\t\t\t<span class=\"info-data\">{{currentSpeed}}km/h</span>\r\n\t\t\t\t<span class=\"info-data\">{{averageSpeed}}km/h</span>\r\n\t\t\t\t<span class=\"info-data\">{{ridingDistance}}km</span>\r\n\t\t\t\t<span class=\"info-data\">{{ridingTime}}</span>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 底部按钮区域 -->\r\n\t\t<view class=\"button-section\" v-if=\"!isRiding\">\r\n\t\t\t<view class=\"button-grid\">\r\n\t\t\t\t<view class=\"button-center start-riding\" @click=\"startRiding\">\r\n\t\t\t\t\t<text class=\"button-text-large\">开始骑行</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"button-corner bottom-left\" @click=\"selectDestination\">\r\n\t\t\t\t\t<text class=\"button-text\">选择目的地</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"button-corner bottom-right\" @click=\"selectRoute\">\r\n\t\t\t\t\t<text class=\"button-text\">选择路书</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<!-- 骑行控制按钮（向下移动，减少与底部导航栏的间距） -->\r\n\t\t<view class=\"riding-controls-adjusted\" v-if=\"isRiding\">\r\n\t\t\t<view class=\"riding-button pause-button\" @click=\"pauseRiding\">\r\n\t\t\t\t<text class=\"button-text\">{{isPaused ? '继续' : '暂停'}}</text>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"riding-button end-button\" @click=\"endRiding\">\r\n\t\t\t\t<text class=\"button-text\">结束</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n<script lang=\"uts\">\r\nexport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 数据展示\r\n\t\t\t\ttotalDistance: 0,\r\n\t\t\t\tmaxSpeed: 0,\r\n\t\t\t\tmaxTime: 0,\r\n\t\t\t\t\r\n\t\t\t\t// 地图相关\r\n\t\tlatitude: 39.90923, // 默认坐标\r\n\t\tlongitude: 116.407413, // 默认坐标\r\n\t\tscale: 18, // 增加缩放级别以便更精确显示\r\n\t\tmarkers: [],\r\n\t\tmapContext: null,\r\n\t\tlocationEnabled: false, // 位置服务是否启用\r\n\t\t\t\t\r\n\t\t\t\t// 骑行相关\r\n\t\t\t\tisRiding: false,\r\n\t\t\t\tisPaused: false,\r\n\t\t\t\tcurrentSpeed: 0,\r\n\t\t\t\taverageSpeed: 0,\r\n\t\t\t\tridingDistance: 0,\r\n\t\t\t\tridingTime: '00:00:00',\r\n\t\t\t\ttimeCount: 0,\r\n\t\t\t\ttimer: null,\r\n\t\t\t\t\r\n\t\t\t\t// 位置跟踪\r\n\t\t\t\tlocationWatchId: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// 页面加载时初始化数据\r\n\t\t\tthis.initData();\r\n\t\t\t// 初始化地图\r\n\t\t\tthis.initMap();\r\n\t\t\t// 请求位置权限\r\n\t\t\tthis.requestLocationPermission();\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\t// 清理定时器和位置监听\r\n\t\t\tthis.clearTimer();\r\n\t\t\tthis.clearLocationWatch();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t// 初始化数据\r\n\t\tinitData() {\r\n\t\t\t// 这里可以从本地存储或服务器获取数据\r\n\t\t\tthis.totalDistance = 128.5;\r\n\t\t\tthis.maxSpeed = 35.2;\r\n\t\t\tthis.maxTime = 4.5;\r\n\t\t},\r\n\t\t\r\n\t\t// 初始化地图\r\n\t\tinitMap() {\r\n\t\t\tuni.__f__('log','at pages/index/index.uvue:143','初始化地图上下文');\r\n\t\t\ttry {\r\n\t\t\t\tthis.mapContext = uni.createMapContext('map');\r\n\t\t\t\tuni.__f__('log','at pages/index/index.uvue:146','地图上下文创建成功');\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tuni.__f__('error','at pages/index/index.uvue:148','创建地图上下文时发生异常:', exception);\r\n\t\t\t\tthis.mapContext = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 请求位置权限\r\n\t\trequestLocationPermission() {\r\n\t\t\tuni.__f__('log','at pages/index/index.uvue:155','开始请求位置权限...');\r\n\t\t\t\r\n\t\t\t// 首先检查是否支持位置权限\r\n\t\t\ttry {\r\n\t\t\t\t// 先检查当前的位置权限状态\r\n\t\t\t\tuni.getSetting({\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:162','获取权限设置成功:', JSON.stringify(res));\r\n\t\t\t\t\t\t// 检查位置权限\r\n\t\t\t\t\t\tif (res.authSetting && res.authSetting['scope.userLocation']) {\r\n\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:165','位置权限已开启');\r\n\t\t\t\t\t\t\t// 直接获取位置\r\n\t\t\t\t\t\t\tthis.getLocation();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:169','位置权限未开启，请求权限');\r\n\t\t\t\t\t\t\t// 请求位置权限\r\n\t\t\t\t\t\t\tuni.requestLocationPermission({\r\n\t\t\t\t\t\t\t\tsuccess: (authRes) => {\r\n\t\t\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:173','请求位置权限成功:', JSON.stringify(authRes));\r\n\t\t\t\t\t\t\t\t\tif (authRes.authSetting && authRes.authSetting['scope.userLocation']) {\r\n\t\t\t\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:175','用户允许了位置权限');\r\n\t\t\t\t\t\t\t\t\t\t// 获取位置\r\n\t\t\t\t\t\t\t\t\t\tthis.getLocation();\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:179','用户拒绝了位置权限');\r\n\t\t\t\t\t\t\t\t\t\tthis.locationEnabled = false;\r\n\t\t\t\t\t\t\t\t\t\t// 提示用户需要开启权限\r\n\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '位置权限被拒绝，地图功能将受限',\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t} catch (toastErr) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:189','显示提示时发生错误:', JSON.stringify(toastErr));\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t// 提供一个打开设置的选项\r\n\t\t\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '权限提示',\r\n\t\t\t\t\t\t\t\t\t\t\tcontent: '需要位置权限才能使用地图功能，请在设置中开启',\r\n\t\t\t\t\t\t\t\t\t\t\tconfirmText: '去设置',\r\n\t\t\t\t\t\t\t\t\t\t\tcancelText: '取消',\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess: (modalRes) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (modalRes.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// 打开设置页面\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.openSetting({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsuccess: (settingRes) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:202','设置页面操作结果:', JSON.stringify(settingRes));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (settingRes.authSetting && settingRes.authSetting['scope.userLocation']) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:204','用户在设置中开启了位置权限');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.getLocation();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:207','用户在设置中未开启位置权限');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: '位置权限未开启，地图功能将受限',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (authErr) => {\r\n\t\t\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:222','请求位置权限失败:', JSON.stringify(authErr));\r\n\t\t\t\t\t\t\t\tthis.locationEnabled = false;\r\n\t\t\t\t\t\t\t\t// 处理错误情况\r\n\t\t\t\t\t\t\t\tif (authErr.errMsg.includes('auth deny')) {\r\n\t\t\t\t\t\t\t\t\t// 用户拒绝了权限\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '位置权限被拒绝',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// 其他错误\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '请求位置权限失败',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: (err) => {\r\n\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:245','获取权限设置失败:', JSON.stringify(err));\r\n\t\t\t\t\tthis.locationEnabled = false;\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '无法获取权限设置',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tuni.__f__('error','at pages/index/index.uvue:255','请求位置权限时发生异常:', JSON.stringify(exception));\r\n\t\t\t\tthis.locationEnabled = false;\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '系统不支持位置服务',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 5000\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 获取当前位置\r\n\t\tgetLocation() {\r\n\t\t\tuni.__f__('log','at pages/index/index.uvue:267','开始获取当前位置...');\r\n\t\t\t// 确保没有重复调用获取位置\r\n\t\t\tif (this.locationEnabled) {\r\n\t\t\t\tuni.__f__('log','at pages/index/index.uvue:270','位置服务已启用，跳过重复获取');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\t// 先检查网络状态\r\n\t\t\t\tuni.getNetworkType({\r\n\t\t\t\t\tsuccess: (networkRes) => {\r\n\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:278','网络状态:', JSON.stringify(networkRes));\r\n\t\t\t\t\t\t// 如果没有网络连接，先提示用户\r\n\t\t\t\t\t\tif (networkRes.networkType === 'none') {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '当前无网络连接，请检查网络设置',\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} catch (toastErr) {\r\n\t\t\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:288','显示提示时发生错误:', JSON.stringify(toastErr));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 调用获取位置API\r\n\t\t\t\t\t\tuni.getLocation({\r\n\t\t\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\t\t\thighAccuracy: true,\r\n\t\t\t\t\t\t\taltitude: true,\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:299','获取位置成功:', JSON.stringify(res));\r\n\t\t\t\t\t\t\t\tthis.locationEnabled = true;\r\n\t\t\t\t\t\t\t\t// 更新地图位置\r\n\t\t\t\t\t\t\t\tthis.latitude = res.latitude;\r\n\t\t\t\t\t\t\t\tthis.longitude = res.longitude;\r\n\t\t\t\t\t\t\t\t// 添加当前位置标记\r\n\t\t\t\t\t\t\t\tthis.updateMarker(res.latitude, res.longitude);\r\n\t\t\t\t\t\t\t\t// 启动位置监听\r\n\t\t\t\t\t\t\t\tthis.startLocationWatch();\r\n\t\t\t\t\t\t\t\t// 移动地图到当前位置\r\n\t\t\t\t\t\t\t\tthis.moveToLocation();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:312','获取位置失败:', JSON.stringify(err));\r\n\t\t\t\t\t\t\t\tthis.locationEnabled = false;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 根据错误类型显示不同提示\r\n\t\t\t\t\t\t\t\tlet errorMsg = '获取位置失败';\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 更详细的错误类型判断\r\n\t\t\t\t\t\t\t\tif (err.errMsg.includes('frequently')) {\r\n\t\t\t\t\t\t\t\t\terrorMsg = '获取位置过于频繁，请稍后再试';\r\n\t\t\t\t\t\t\t\t} else if (err.errMsg.includes('system')) {\r\n\t\t\t\t\t\t\t\t\terrorMsg = '系统位置服务未开启，请检查设置';\r\n\t\t\t\t\t\t\t\t} else if (err.errMsg.includes('failed')) {\r\n\t\t\t\t\t\t\t\t\terrorMsg = '定位失败，请检查GPS信号或稍后重试';\r\n\t\t\t\t\t\t\t\t} else if (err.errMsg.includes('auth deny')) {\r\n\t\t\t\t\t\t\t\t\terrorMsg = '位置权限被拒绝，请在设置中开启';\r\n\t\t\t\t\t\t\t\t} else if (err.errMsg.includes('auth canceled')) {\r\n\t\t\t\t\t\t\t\t\terrorMsg = '您取消了位置权限请求';\r\n\t\t\t\t\t\t\t\t} else if (err.errMsg.includes('permission')) {\r\n\t\t\t\t\t\t\t\t\terrorMsg = '缺少位置权限，请在设置中开启';\r\n\t\t\t\t\t\t\t\t} else if (err.errMsg.includes('ERROR_NOCELL&WIFI_LOCATIONSWITCHOFF')) {\r\n\t\t\t\t\t\t\t\t\t// 处理特定的定位错误：无移动网络且WiFi定位关闭\r\n\t\t\t\t\t\t\t\t\terrorMsg = '无网络定位信号，请开启移动网络或WiFi';\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\terrorMsg = `获取位置信息时发生错误(${err.errMsg || '未知错误'})`;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:338','错误信息:', errorMsg, '原始错误:', err.errMsg, '错误代码:', err.errCode);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 避免日志文件访问错误\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: errorMsg,\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\tduration: 5000 // 延长显示时间，让用户看清楚错误信息\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t} catch (toastErr) {\r\n\t\t\t\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:348','显示提示时发生错误:', JSON.stringify(toastErr));\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tuni.__f__('error','at pages/index/index.uvue:355','获取位置时发生异常:', JSON.stringify(exception));\r\n\t\t\t\tthis.locationEnabled = false;\r\n\t\t\t\t// 显示用户友好的错误提示\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取位置信息时发生异常',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (toastErr) {\r\n\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:365','显示提示时发生错误:', JSON.stringify(toastErr));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 开始位置监听\r\n\t\tstartLocationWatch() {\r\n\t\t\tuni.__f__('log','at pages/index/index.uvue:372','准备启动位置监听...');\r\n\t\t\t// 先检查是否已经有位置监听，避免重复设置\r\n\t\t\tif (this.locationWatchId) {\r\n\t\t\t\tuni.__f__('log','at pages/index/index.uvue:375','位置监听已存在，先清理');\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuni.offLocationChange(this.locationWatchId);\r\n\t\t\t\t} catch (offErr) {\r\n\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:379','关闭位置监听时发生错误:', JSON.stringify(offErr));\r\n\t\t\t\t}\r\n\t\t\t\tthis.locationWatchId = null;\r\n\t\t\t}\r\n\r\n\t\t\t// 检查是否已经获取到位置，如果没有则先不启动监听\r\n\t\t\tif (!this.latitude || !this.longitude) {\r\n\t\t\t\tuni.__f__('log','at pages/index/index.uvue:386','尚未获取到位置，先不启动监听');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// 设置位置更新配置，调整为1秒更新一次\r\n\t\t\t\tuni.startLocationUpdate({\r\n\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\taltitude: true,\r\n\t\t\t\t\tgeocode: false,\r\n\t\t\t\t\thighAccuracyExpireTime: 30000,\r\n\t\t\t\t\tinterval: 1000, // 1秒更新一次\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:399','位置更新服务已启动，每秒更新一次');\r\n\t\t\t\t\t\t// 添加位置变化监听\r\n\t\t\t\t\t\tthis.locationWatchId = uni.onLocationChange((res) => {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:403','位置变化:', JSON.stringify(res));\r\n\t\t\t\t\t\t\t\tthis.locationEnabled = true;\r\n\t\t\t\t\t\t\t\t// 更新地图位置\r\n\t\t\t\t\t\t\t\tthis.latitude = res.latitude;\r\n\t\t\t\t\t\t\t\tthis.longitude = res.longitude;\r\n\t\t\t\t\t\t\t\t// 更新当前位置标记\r\n\t\t\t\t\t\t\t\tthis.updateMarker(res.latitude, res.longitude);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// 更新当前速度\r\n\t\t\t\t\t\t\t\tif (res.speed !== undefined) {\r\n\t\t\t\t\t\t\t\t\t// 速度单位转换（如果需要）\r\n\t\t\t\t\t\t\t\t\tlet speed = parseFloat(res.speed);\r\n\t\t\t\t\t\t\t\t\t// 确保速度值合理\r\n\t\t\t\t\t\t\t\t\tif (speed < 0) speed = 0;\r\n\t\t\t\t\t\t\t\t\tthis.currentSpeed = speed.toFixed(1);\r\n\t\t\t\t\t\t\t\t\t// 如果在骑行中且未暂停，更新平均速度\r\n\t\t\t\t\t\t\t\t\tif (this.isRiding && !this.isPaused) {\r\n\t\t\t\t\t\t\t\t\t\tthis.updateAverageSpeed();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} catch (locationErr) {\r\n\t\t\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:424','处理位置变化时发生错误:', JSON.stringify(locationErr));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:429','启动位置更新失败:', JSON.stringify(err));\r\n\t\t\t\t\t\tthis.locationEnabled = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 根据错误类型显示不同的提示信息\r\n\t\t\t\t\t\tlet errorMsg = '位置更新服务启动失败';\r\n\t\t\t\t\t\tif (err.errMsg && err.errMsg.includes('failed')) {\r\n\t\t\t\t\t\t\terrorMsg = '定位服务启动失败，请检查GPS是否开启';\r\n\t\t\t\t\t\t} else if (err.errMsg && err.errMsg.includes('permission')) {\r\n\t\t\t\t\t\t\terrorMsg = '缺少位置权限，请在设置中开启';\r\n\t\t\t\t\t\t} else if (err.errMsg && err.errMsg.includes('backgroundfetch')) {\r\n\t\t\t\t\t\t\t// 处理后台获取数据失败的情况\r\n\t\t\t\t\t\t\terrorMsg = '后台位置更新失败，请保持应用在前台使用';\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// 只在未获取到位置时显示提示\r\n\t\t\t\t\t\tif (!this.latitude || !this.longitude) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: errorMsg,\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} catch (toastErr) {\r\n\t\t\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:452','显示提示时发生错误:', JSON.stringify(toastErr));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}); // 确保这里的分号存在\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tuni.__f__('error','at pages/index/index.uvue:458','启动位置监听时发生异常:', JSON.stringify(exception));\r\n\t\t\t\tthis.locationEnabled = false;\r\n\t\t\t\t// 显示用户友好的错误提示\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '位置监听服务异常',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t});\r\n\t\t\t\t} catch (toastErr) {\r\n\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:468','显示提示时发生错误:', JSON.stringify(toastErr));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\t// 清理位置监听\r\n\t\tclearLocationWatch() {\r\n\t\t\t\tuni.__f__('log','at pages/index/index.uvue:474','清理位置监听...');\r\n\t\t\t\tif (this.locationWatchId) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tuni.offLocationChange(this.locationWatchId);\r\n\t\t\t\t\t} catch (offErr) {\r\n\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:479','关闭位置监听时发生错误:', JSON.stringify(offErr));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.locationWatchId = null;\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tuni.stopLocationUpdate({\r\n\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:486','位置更新服务已停止');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (stopErr) => {\r\n\t\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:489','停止位置更新服务时发生错误:', JSON.stringify(stopErr));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t} catch (stopErr) {\r\n\t\t\t\tuni.__f__('error','at pages/index/index.uvue:493','停止位置更新服务时发生异常:', JSON.stringify(stopErr));\r\n\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 地图加载完成\r\n\t\tonMapLoaded() {\r\n\t\t\tuni.__f__('log','at pages/index/index.uvue:499','地图加载完成');\r\n\t\t\t// 地图加载完成后，检查是否已获取位置，如果没有则尝试获取\r\n\t\t\tif (!this.locationEnabled) {\r\n\t\t\t\tuni.__f__('log','at pages/index/index.uvue:502','地图加载但位置服务未启用，尝试重新获取位置');\r\n\t\t\t\tthis.requestLocationPermission();\r\n\t\t\t} else {\r\n\t\t\t\tuni.__f__('log','at pages/index/index.uvue:505','地图加载且位置服务已启用，移动到当前位置');\r\n\t\t\t\tthis.moveToLocation();\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 地图位置变化回调\r\n\t\tonLocationChange(e) {\r\n\t\t\t\t// 增强错误处理\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (!e || !e.detail) {\r\n\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:515','地图位置变化事件数据无效');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:518','地图位置变化:', JSON.stringify(e));\r\n\t\t\t\t\t// 这里可以处理地图位置变化事件\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:521','处理地图位置变化时发生错误:', JSON.stringify(err));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 更新当前位置标记\r\n\t\tupdateMarker(lat, lng) {\r\n\t\t\tuni.__f__('log','at pages/index/index.uvue:527','更新位置标记:', lat, lng);\r\n\t\t\t// 使用正确的标记配置，确保能在地图上显示\r\n\t\t\tthis.markers = [{\r\n\t\t\t\tid: 1,\r\n\t\t\t\tlatitude: lat,\r\n\t\t\t\tlongitude: lng,\r\n\t\t\t\ttitle: '我的位置',\r\n\t\t\t\t// 对于uni-app，默认使用系统提供的标记图标\r\n\t\t\t\t// 不指定iconPath，使用默认图标\r\n\t\t\t\twidth: 30,\r\n\t\t\t\theight: 30,\r\n\t\t\t\tanchor: { x: 0.5, y: 0.5 },\r\n\t\t\t\t// 确保标记可点击\r\n\t\t\t\tcallout: {\r\n\t\t\t\t\tcontent: '我的位置',\r\n\t\t\t\t\tdisplay: 'BYCLICK'\r\n\t\t\t\t}\r\n\t\t\t}];\r\n\t\t},\r\n\t\t\t\r\n\t\t\t// 移动地图到当前位置\r\n\t\tmoveToLocation() {\r\n\t\t\t// 确保地图上下文已创建且有有效位置\r\n\t\t\tif (this.mapContext && this.latitude && this.longitude) {\r\n\t\t\t\tuni.__f__('log','at pages/index/index.uvue:551','移动地图到当前位置:', this.latitude, this.longitude);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.mapContext.moveToLocation({\r\n\t\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t\tuni.__f__('log','at pages/index/index.uvue:555','地图移动到当前位置成功');\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\tuni.__f__('error','at pages/index/index.uvue:558','地图移动到当前位置失败:', JSON.stringify(err));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t} catch (exception) {\r\n\t\t\t\tuni.__f__('error','at pages/index/index.uvue:562','移动地图时发生异常:', JSON.stringify(exception));\r\n\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tuni.__f__('log','at pages/index/index.uvue:565','无法移动地图: 地图上下文未创建或位置无效');\r\n\t\t\t}\r\n\t\t},\r\n\t\t\t\r\n\t\t\t// 开始骑行\r\n\t\t\tstartRiding() {\r\n\t\t\t\tuni.__f__('log','at pages/index/index.uvue:571','开始骑行');\r\n\t\t\t\tthis.isRiding = true;\r\n\t\t\t\tthis.isPaused = false;\r\n\t\t\t\tthis.ridingDistance = 0;\r\n\t\t\t\tthis.timeCount = 0;\r\n\t\t\t\tthis.updateTimeDisplay();\r\n\t\t\t\tthis.startTimer();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 暂停骑行\r\n\t\t\tpauseRiding() {\r\n\t\t\t\tthis.isPaused = !this.isPaused;\r\n\t\t\t\tif (this.isPaused) {\r\n\t\t\t\t\tthis.clearTimer();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.startTimer();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 结束骑行\r\n\t\tendRiding() {\r\n\t\t\tuni.__f__('log','at pages/index/index.uvue:592','结束骑行');\r\n\t\t\tthis.isRiding = false;\r\n\t\t\tthis.isPaused = false;\r\n\t\t\tthis.clearTimer();\r\n\t\t\t// 更新总数据\r\n\t\t\tthis.totalDistance = (parseFloat(this.totalDistance) + parseFloat(this.ridingDistance)).toFixed(1);\r\n\t\t\tif (parseFloat(this.currentSpeed) > parseFloat(this.maxSpeed)) {\r\n\t\t\t\tthis.maxSpeed = this.currentSpeed;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// 开始计时器\r\n\t\tstartTimer() {\r\n\t\t\tthis.timer = setInterval(() => {\r\n\t\t\t\tif (!this.isPaused) {\r\n\t\t\t\t\tthis.timeCount++;\r\n\t\t\t\t\tthis.updateTimeDisplay();\r\n\t\t\t\t\t// 模拟增加距离（实际应根据GPS计算）\r\n\t\t\t\t\tif (this.currentSpeed > 0) {\r\n\t\t\t\t\t\tthis.ridingDistance = (parseFloat(this.ridingDistance) + parseFloat(this.currentSpeed) / 3600).toFixed(2);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}, 1000);\r\n\t\t},\r\n\t\t\r\n\t\t// 清理计时器\r\n\t\tclearTimer() {\r\n\t\t\tif (this.timer) {\r\n\t\t\t\tclearInterval(this.timer);\r\n\t\t\t\tthis.timer = null;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 更新时间显示\r\n\t\tupdateTimeDisplay() {\r\n\t\t\tlet hours = Math.floor(this.timeCount / 3600);\r\n\t\t\tlet minutes = Math.floor((this.timeCount % 3600) / 60);\r\n\t\t\tlet seconds = this.timeCount % 60;\r\n\t\t\tthis.ridingTime = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;\r\n\t\t},\r\n\t\t\r\n\t\t// 更新平均速度\r\n\t\tupdateAverageSpeed() {\r\n\t\t\t// 简单的平均速度计算（实际应用中应根据总距离和总时间计算）\r\n\t\t\tif (this.timeCount > 0) {\r\n\t\t\t\tlet totalSpeed = parseFloat(this.currentSpeed) + parseFloat(this.averageSpeed) * (this.timeCount - 1);\r\n\t\t\t\tthis.averageSpeed = (totalSpeed / this.timeCount).toFixed(1);\r\n\t\t\t} else {\r\n\t\t\t\tthis.averageSpeed = this.currentSpeed;\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\t// 其他按钮点击事件\r\n\t\t\r\n\t\tselectDestination() {\r\n\t\t\tuni.__f__('log','at pages/index/index.uvue:647','选择目的地');\r\n\t\t\t// 实现选择目的地的逻辑\r\n\t\t},\r\n\t\tselectRoute() {\r\n\t\t\tuni.__f__('log','at pages/index/index.uvue:651','选择路书');\r\n\t\t\t// 实现选择路书的逻辑\r\n\t\t}\r\n\t//}\r\n}}</script>\r\n<style>\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100vh;\r\n\t\tpadding: 10px;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t/* 顶部数据区域样式 */\r\n\t.data-section {\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 10px; /* 减小内边距 */\r\n\t\tmargin-bottom: 10px;\r\n\t\tbox-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n\t\theight: auto; /* 自动调整高度以完整显示内容 */\r\n\t\tmin-height: 120px; /* 调整最小高度 */\r\n\t}\r\n\t\r\n.section-title {\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 8px; /* 增加标题与内容的间距 */\r\n\t\tcolor: #333;\r\n\t\tdisplay: block;\r\n\t}\r\n\t\r\n\t.data-list {\r\n\t\tbackground-color: #f9f9f9;\r\n\t\tborder-radius: 8px;\r\n\t\toverflow: hidden;\r\n\t\theight: auto; /* 自动调整高度 */\r\n\t}\r\n\t.data-list-item {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 6px 10px; /* 减小内边距，减小每行高度 */\r\n\t\tborder-bottom: 1px solid #eee;\r\n\t}\r\n\t\r\n\t.data-list-item:last-child {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\t\r\n\t.data-list-label {\r\n\t\tfont-size: 13px; /* 减小字体大小 */\r\n\t\tcolor: #666;\r\n\t}\r\n\t\r\n\t.data-list-value {\r\n\t\tfont-size: 13px; /* 减小字体大小 */\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t}\r\n\t\r\n\t/* 中间地图区域样式 */\r\n\t.map-section {\r\n\t\tflex: 1;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 8px;\r\n\t\tmargin-bottom: 8px;\r\n\t\tbox-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmin-height: 250px;\r\n\t}\r\n\t\r\n\t.map-section.expanded {\r\n\t\tmin-height: 400px;\r\n\t}\r\n\t\r\n\t.map-container {\r\n\t\tflex: 1;\r\n\t\tbackground-color: #e0e0e0;\r\n\t\tborder-radius: 5px;\r\n\t\toverflow: hidden;\r\n\t}\r\n\t\r\n\t.map {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t/* 骑行信息区域样式（两行布局：第一行全是标题，第二行全是数据） */\r\n\t.riding-info-simple {\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 8px;\r\n\t\tpadding: 8px;\r\n\t\tmargin-bottom: 8px;\r\n\t\tbox-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n\t\toverflow-x: auto;\r\n\t\theight: auto;\r\n\t}\r\n\t\r\n\t.info-line {\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\tmargin-bottom: 6px;\r\n\t\ttext-align: center;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\t\r\n\t.info-line:last-child {\r\n\t\tmargin-bottom: 0;\r\n\t}\r\n\t\r\n\t.info-item {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 25%;\r\n\t\tfont-size: 11px;\r\n\t\tcolor: #666;\r\n\t\ttext-align: center;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0 5px;\r\n\t}\r\n\t\r\n\t.info-data {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 25%;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #333;\r\n\t\tfont-weight: 600;\r\n\t\ttext-align: center;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0 5px;\r\n\t}\r\n\t\r\n\t/* 底部按钮区域样式 */\r\n\t.button-section {\r\n\t\theight: 133px;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding: 15px;\r\n\t\tmargin-bottom: 2.5px;\r\n\t\tbox-shadow: 0 2px 5px rgba(0,0,0,0.1);\r\n\t}\r\n\t\r\n\t.button-grid {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\t\r\n\t.button-corner {\r\n\t\tposition: absolute;\r\n\t\twidth: 90px;\r\n\t\theight: 40px;\r\n\t\tbackground-color: #4CAF50;\r\n\t\tborder-radius: 8px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t/* 调整按钮位置，确保在开始骑行按钮的左右中间对称显示 */\r\n\t.bottom-left {\r\n\t\ttop: 50%; /* 与开始骑行按钮同一垂直位置 */\r\n\t\ttransform: translateY(-50%); /* 垂直居中对齐 */\r\n\t\tleft: calc(50% - 160px); /* 调整水平位置 */\r\n\t}\r\n\t\r\n\t.bottom-right {\r\n\t\ttop: 50%; /* 与开始骑行按钮同一垂直位置 */\r\n\t\ttransform: translateY(-50%); /* 垂直居中对齐 */\r\n\t\tright: calc(50% - 160px); /* 调整水平位置 */\r\n\t}\r\n\t\r\n\t.button-center {\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\twidth: 100px;\r\n\t\theight: 100px;\r\n\t\tbackground-color: #20e95cff;\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbox-shadow: 0 4px 8px rgba(0,0,0,0.2);\r\n\t}\r\n\t\r\n\t/* 骑行控制按钮（向下移动，减少与底部导航栏的间距） */\r\n\t.riding-controls-adjusted {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tgap: 60px;\r\n\t\tmargin-bottom: 5px; /* 减少底部外边距 */\r\n\t\talign-items: center;\r\n\t\tflex-direction: row;\r\n\t\theight: auto;\r\n\t\tpadding-top: 5px; /* 增加顶部内边距，保持按钮位置 */\r\n\t}\r\n\t\r\n\t.riding-button {\r\n\t\twidth: 60px;\r\n\t\theight: 60px;\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tbox-shadow: 0 4px 8px rgba(0,0,0,0.2);\r\n\t\tz-index: 10;\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.end-button {\r\n\t\tbackground-color: #FF5722;\r\n\t}\r\n\t\r\n\t.pause-button {\r\n\t\tbackground-color: #4CAF50;\r\n\t}\r\n\t\r\n\t.button-text {\r\n\t\tcolor: white;\r\n\t\tfont-size: 12px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.button-text-large {\r\n\t\tcolor: white;\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: bold;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t/* 自由骑按钮样式 */\r\n\t.free-ride {\r\n\t\tbackground-color: #FF5722;\r\n\t}\r\n\t\r\n\t/* 开始骑行按钮样式 */\r\n\t.start-riding {\r\n\t\tbackground-color: #20e95cff;\r\n\t}\r\n</style>\r\n\r\n","import MiniProgramPage from 'E:/GitLab/ESP32/HBuilderX.4.76.2025082103/RideApp/uniappRide/pages/index/index.uvue'\nwx.createPage(MiniProgramPage)"],"names":["defineComponent","uni"],"mappings":"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"}